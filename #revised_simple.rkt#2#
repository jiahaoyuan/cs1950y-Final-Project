#reader(lib"read.ss""wxme")WXME0109 ## 
#|
   This file uses the GRacket editor format.
   Open this file in DrRacket version 7.5 or later to read it.

   Most likely, it was created by saving a program in DrRacket,
   and it probably contains a program with non-text elements
   (such as images or comment boxes).

            http://racket-lang.org/
|#
 33 7 #"wxtext\0"
3 1 6 #"wxtab\0"
1 1 8 #"wximage\0"
2 0 8 #"wxmedia\0"
4 1 34 #"(lib \"syntax-browser.ss\" \"mrlib\")\0"
1 0 36 #"(lib \"cache-image-snip.ss\" \"mrlib\")\0"
1 0 68
(0
 #"((lib \"image-core.ss\" \"mrlib\") (lib \"image-core-wxme.rkt\" \"mr"
 #"lib\"))\0"
) 1 0 16 #"drscheme:number\0"
3 0 44 #"(lib \"number-snip.ss\" \"drscheme\" \"private\")\0"
1 0 36 #"(lib \"comment-snip.ss\" \"framework\")\0"
1 0 93
(1
 #"((lib \"collapsed-snipclass.ss\" \"framework\") (lib \"collapsed-sni"
 #"pclass-wxme.ss\" \"framework\"))\0"
) 0 0 43 #"(lib \"collapsed-snipclass.ss\" \"framework\")\0"
0 0 19 #"drscheme:sexp-snip\0"
0 0 29 #"drscheme:bindings-snipclass%\0"
1 0 101
(2
 #"((lib \"ellipsis-snip.rkt\" \"drracket\" \"private\") (lib \"ellipsi"
 #"s-snip-wxme.rkt\" \"drracket\" \"private\"))\0"
) 2 0 88
(3
 #"((lib \"pict-snip.rkt\" \"drracket\" \"private\") (lib \"pict-snip.r"
 #"kt\" \"drracket\" \"private\"))\0"
) 0 0 55
#"((lib \"snip.rkt\" \"pict\") (lib \"snip-wxme.rkt\" \"pict\"))\0"
1 0 34 #"(lib \"bullet-snip.rkt\" \"browser\")\0"
0 0 25 #"(lib \"matrix.ss\" \"htdp\")\0"
1 0 22 #"drscheme:lambda-snip%\0"
1 0 29 #"drclickable-string-snipclass\0"
0 0 26 #"drracket:spacer-snipclass\0"
0 0 57
#"(lib \"hrule-snip.rkt\" \"macro-debugger\" \"syntax-browser\")\0"
1 0 26 #"drscheme:pict-value-snip%\0"
0 0 45 #"(lib \"image-snipr.ss\" \"slideshow\" \"private\")\0"
1 0 38 #"(lib \"pict-snipclass.ss\" \"slideshow\")\0"
2 0 55 #"(lib \"vertical-separator-snip.ss\" \"stepper\" \"private\")\0"
1 0 18 #"drscheme:xml-snip\0"
1 0 31 #"(lib \"xml-snipclass.ss\" \"xml\")\0"
1 0 21 #"drscheme:scheme-snip\0"
2 0 34 #"(lib \"scheme-snipclass.ss\" \"xml\")\0"
1 0 10 #"text-box%\0"
1 0 32 #"(lib \"text-snipclass.ss\" \"xml\")\0"
1 0 1 6 #"wxloc\0"
          0 0 56 0 1 #"\0"
0 75 1 #"\0"
0 12 90 -1 90 -1 3 -1 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 255 255 255 1 -1 0 9
#"Standard\0"
0 75 6 #"Menlo\0"
0 17 90 -1 90 -1 3 -1 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 255 255 255 1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 -1 -1 -1 0 0 0 0 0 0 1 1 1 1 1 1 0 0 0 0 0 0 -1 -1 2 24
#"framework:default-color\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 -1 -1 -1 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 -1 -1 -1 0 0 0 0 0 0 0 0 0 1 1 1 150 0 150 0 0 0 -1 -1 2 15
#"text:ports out\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 150 0 150 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1.0 0 -1 -1 93 -1 -1 -1 0 0 0 0 0 0 0 0 0 1.0 1.0 1.0 255 0 0 0 0 0 -1
-1 2 15 #"text:ports err\0"
0 -1 1 #"\0"
1 0 -1 -1 93 -1 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 255 0 0 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 -1 -1 -1 0 0 0 0 0 0 0 0 0 1 1 1 0 0 175 0 0 0 -1 -1 2 17
#"text:ports value\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 0 0 175 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1.0 0 92 -1 -1 -1 -1 -1 0 0 0 0 0 0 0 0 0 1.0 1.0 1.0 34 139 34 0 0 0 -1
-1 2 27 #"Matching Parenthesis Style\0"
0 -1 1 #"\0"
1.0 0 92 -1 -1 -1 -1 -1 0 0 0 0 0 0 0 0 0 1.0 1.0 1.0 34 139 34 0 0 0 -1
-1 2 1 #"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 38 38 128 0 0 0 -1 -1 2 37
#"framework:syntax-color:scheme:symbol\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 38 38 128 0 0 0 -1 -1 2 38
#"framework:syntax-color:scheme:keyword\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 38 38 128 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 194 116 31 0 0 0 -1 -1 2
38 #"framework:syntax-color:scheme:comment\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 194 116 31 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 41 128 38 0 0 0 -1 -1 2 37
#"framework:syntax-color:scheme:string\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 41 128 38 0 0 0 -1 -1 2 35
#"framework:syntax-color:scheme:text\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 41 128 38 0 0 0 -1 -1 2 39
#"framework:syntax-color:scheme:constant\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 41 128 38 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 132 60 36 0 0 0 -1 -1 2 49
#"framework:syntax-color:scheme:hash-colon-keyword\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 132 60 36 0 0 0 -1 -1 2 42
#"framework:syntax-color:scheme:parenthesis\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 132 60 36 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 255 0 0 0 0 0 -1 -1 2 36
#"framework:syntax-color:scheme:error\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 255 0 0 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 -1 -1 2 36
#"framework:syntax-color:scheme:other\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 -1 -1 2 16
#"Misspelled Text\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 -1 -1 -1 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 81 112 203 0 0 0 -1 -1 2
38 #"drracket:check-syntax:lexically-bound\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 81 112 203 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 178 34 34 0 0 0 -1 -1 2 28
#"drracket:check-syntax:set!d\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 178 34 34 0 0 0 -1 -1 2 37
#"drracket:check-syntax:unused-require\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 255 0 0 0 0 0 -1 -1 2 36
#"drracket:check-syntax:free-variable\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 255 0 0 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 68 0 203 0 0 0 -1 -1 2 31
#"drracket:check-syntax:imported\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 68 0 203 0 0 0 -1 -1 2 47
#"drracket:check-syntax:my-obligation-style-pref\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 178 34 34 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 0 116 0 0 0 0 -1 -1 2 50
#"drracket:check-syntax:their-obligation-style-pref\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 0 116 0 0 0 0 -1 -1 2 48
#"drracket:check-syntax:unk-obligation-style-pref\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 139 142 28 0 0 0 -1 -1 2
49 #"drracket:check-syntax:both-obligation-style-pref\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 139 142 28 0 0 0 -1 -1 2
26 #"plt:htdp:test-coverage-on\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 -1 -1 2 1
#"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 1 0 0 0 0 0 0 255 165 0 0 0 0 -1 -1 2 27
#"plt:htdp:test-coverage-off\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 1 0 0 0 0 0 0 255 165 0 0 0 0 -1 -1 4 1
#"\0"
0 70 1 #"\0"
1.0 0 -1 -1 -1 -1 -1 -1 0 0 0 0 0 0 1.0 1.0 1.0 1.0 1.0 1.0 0 0 0 0 0 0
-1 -1 4 4 #"XML\0"
0 70 1 #"\0"
1.0 0 -1 -1 -1 -1 -1 -1 0 0 0 0 0 0 1.0 1.0 1.0 1.0 1.0 1.0 0 0 0 0 0 0
-1 -1 2 37 #"plt:module-language:test-coverage-on\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 -1 -1 2 38
#"plt:module-language:test-coverage-off\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 93 -1 -1 0 1 0 0 0 1 0 0 0 0 0 0 255 165 0 0 0 0 -1 -1 4 1
#"\0"
0 71 1 #"\0"
1.0 0 -1 -1 -1 -1 -1 -1 0 0 0 0 0 0 1.0 1.0 1.0 1.0 1.0 1.0 0 0 0 0 0 0
-1 -1 4 1 #"\0"
0 -1 1 #"\0"
1.0 0 -1 -1 -1 -1 -1 -1 1 0 0 0 0 0 0 0 0 1.0 1.0 1.0 0 0 255 0 0 0 -1
-1 4 1 #"\0"
0 71 1 #"\0"
1.0 0 -1 -1 -1 -1 -1 -1 1 0 0 0 0 0 0 0 0 1.0 1.0 1.0 0 0 255 0 0 0 -1
-1 4 1 #"\0"
0 71 1 #"\0"
1.0 0 -1 -1 -1 -1 -1 -1 0 0 0 0 0 0 0 0 0 1.0 1.0 1.0 0 100 0 0 0 0 -1
-1 2 1 #"\0"
0 -1 1 #"\0"
1 0 -1 -1 -1 -1 -1 -1 0 0 0 0 0 0 0 0 0 1 1 1 200 0 0 0 0 0 -1 -1
          0 1832 0 28 3 11 #"#lang forge"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 16 #"----------------"
0 0 17 3 1 #" "
0 0 17 3 4 #"Part"
0 0 17 3 1 #" "
0 0 17 3 2 #"1."
0 0 17 3 1 #" "
0 0 17 3 3 #"Sig"
0 0 17 3 1 #" "
0 0 17 3 22 #"Declaration ----------"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 8 #" Status "
0 0 24 3 2 #"{}"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 10 #" Follower "
0 0 23 3 7 #"extends"
0 0 14 3 7 #" Status"
0 0 24 3 2 #"{}"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 11 #" Candidate "
0 0 23 3 7 #"extends"
0 0 14 3 7 #" Status"
0 0 24 3 2 #"{}"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 8 #" Leader "
0 0 23 3 7 #"extends"
0 0 14 3 7 #" Status"
0 0 24 3 2 #"{}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 6 #" Node "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 17 3 5 #"--id:"
0 0 17 3 1 #" "
0 0 17 3 7 #"one Int"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 10 #" Majority "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 14 #"    constant: "
0 0 23 3 3 #"one"
0 0 14 3 1 #" "
0 0 23 3 3 #"Int"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 7 #" State "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 13 #"    network: "
0 0 23 3 3 #"set"
0 0 14 3 7 #" Node, "
0 0 17 3 2 #"--"
0 0 17 3 1 #" "
0 0 17 3 5 #"nodes"
0 0 17 3 1 #" "
0 0 17 3 2 #"in"
0 0 17 3 1 #" "
0 0 17 3 11 #"the network"
0 0 14 29 1 #"\n"
0 0 14 3 13 #"    reserve: "
0 0 23 3 3 #"set"
0 0 14 3 7 #" Node, "
0 0 17 3 2 #"--"
0 0 17 3 1 #" "
0 0 17 3 5 #"nodes"
0 0 17 3 1 #" "
0 0 17 3 3 #"not"
0 0 17 3 1 #" "
0 0 17 3 2 #"in"
0 0 17 3 1 #" "
0 0 17 3 11 #"the network"
0 0 14 29 1 #"\n"
0 0 14 3 10 #"    step: "
0 0 23 3 3 #"one"
0 0 14 3 1 #" "
0 0 23 3 3 #"Int"
0 0 14 3 1 #","
0 0 14 29 1 #"\n"
0 0 14 3 13 #"    leaders: "
0 0 23 3 3 #"set"
0 0 14 3 6 #" Node,"
0 0 14 29 1 #"\n"
0 0 14 3 15 #"    followers: "
0 0 23 3 3 #"set"
0 0 14 3 6 #" Node,"
0 0 14 29 1 #"\n"
0 0 14 3 16 #"    candidates: "
0 0 23 3 3 #"set"
0 0 14 3 6 #" Node,"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"    voteTo: "
0 0 23 3 3 #"set"
0 0 14 3 12 #" Node->Node,"
0 0 14 29 1 #"\n"
0 0 14 3 9 #"    trm: "
0 0 23 3 3 #"set"
0 0 14 3 7 #" Node->"
0 0 23 3 3 #"Int"
0 0 14 3 2 #"  "
0 0 17 3 2 #"--"
0 0 17 3 1 #" "
0 0 17 3 4 #"e.g."
0 0 17 3 1 #" "
0 0 17 3 3 #"for"
0 0 17 3 1 #" "
0 0 17 3 4 #"node"
0 0 17 3 1 #" "
0 0 17 3 1 #"n"
0 0 17 3 1 #","
0 0 17 3 1 #" "
0 0 17 3 3 #"its"
0 0 17 3 1 #" "
0 0 17 3 4 #"term"
0 0 17 3 1 #" "
0 0 17 3 2 #"is"
0 0 17 3 1 #" "
0 0 17 3 4 #"term"
0 0 17 3 1 #"["
0 0 17 3 1 #"n"
0 0 17 3 2 #"] "
0 0 17 3 2 #"or"
0 0 17 3 7 #" n.term"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 2 #"--"
0 0 17 3 7 #" Events"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 7 #" Event "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 9 #"    pre: "
0 0 23 3 3 #"one"
0 0 14 3 7 #" State,"
0 0 14 29 1 #"\n"
0 0 14 3 10 #"    post: "
0 0 23 3 3 #"one"
0 0 14 3 6 #" State"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 9 #" Timeout "
0 0 23 3 7 #"extends"
0 0 14 3 7 #" Event "
0 0 24 3 2 #"{}"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 11 #" Foll_Cand "
0 0 23 3 7 #"extends"
0 0 14 3 7 #" Event "
0 0 24 3 2 #"{}"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 13 #" Cand_Leader "
0 0 23 3 7 #"extends"
0 0 14 3 7 #" Event "
0 0 24 3 2 #"{}"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 11 #" Cand_Cand "
0 0 23 3 7 #"extends"
0 0 14 3 7 #" Event "
0 0 24 3 2 #"{}"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 12 #" CountVotes "
0 0 23 3 7 #"extends"
0 0 14 3 7 #" Event "
0 0 24 3 2 #"{}"
0 0 14 29 1 #"\n"
0 0 23 3 3 #"sig"
0 0 14 3 11 #" Heartbeat "
0 0 23 3 7 #"extends"
0 0 14 3 7 #" Event "
0 0 24 3 2 #"{}"
0 0 14 29 1 #"\n"
0 0 17 3 30 #"--sig AddNode extends Event {}"
0 0 14 29 1 #"\n"
0 0 17 3 31 #"--sig FailNode extends Event {}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 82
(4
 #"-----------------------------Helper Predicates----------------------"
 #"--------------"
) 0 0 14 29 1 #"\n"
0 0 23 3 4 #"pred"
0 0 14 3 15 #" stateInvariant"
0 0 24 3 1 #"["
0 0 14 3 11 #"nodeCount: "
0 0 23 3 3 #"Int"
0 0 24 3 1 #"]"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 3 #"all"
0 0 14 3 12 #" s: State | "
0 0 14 29 1 #"\n"
0 0 14 3 19 #"                   "
0 0 17 3 3 #"--#"
0 0 17 3 22 #"s.network = nodeCount "
0 0 17 3 24 #"and -- comment out later"
0 0 14 29 1 #"\n"
0 0 14 3 48 #"                   Node = s.network + s.reserve "
0 0 23 3 3 #"and"
0 0 14 3 1 #" "
0 0 17 3 45 #"-- Nodes must either be in network or reserve"
0 0 14 29 1 #"\n"
0 0 14 3 19 #"                   "
0 0 23 3 2 #"no"
0 0 14 3 23 #" s.network & s.reserve "
0 0 23 3 3 #"and"
0 0 14 29 1 #"\n"
0 0 14 3 70
(5
 #"                   s.network = s.leaders + s.followers + s.candidate"
 #"s "
) 0 0 23 3 3 #"and"
0 0 14 29 1 #"\n"
0 0 14 3 19 #"                   "
0 0 23 3 2 #"no"
0 0 14 3 25 #" s.leaders & s.followers "
0 0 23 3 3 #"and"
0 0 14 29 1 #"\n"
0 0 14 3 19 #"                   "
0 0 23 3 2 #"no"
0 0 14 3 26 #" s.leaders & s.candidates "
0 0 23 3 3 #"and"
0 0 14 29 1 #"\n"
0 0 14 3 19 #"                   "
0 0 23 3 2 #"no"
0 0 14 3 28 #" s.followers & s.candidates "
0 0 23 3 3 #"and"
0 0 17 3 42 #"-- no status can have more than two status"
0 0 14 29 1 #"\n"
0 0 14 3 19 #"                   "
0 0 23 3 1 #"#"
0 0 14 3 11 #"Majority = "
0 0 21 3 1 #"1"
0 0 14 3 1 #" "
0 0 23 3 3 #"and"
0 0 14 29 1 #"\n"
0 0 14 3 39 #"                   Majority.constant = "
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 21 3 1 #"2"
0 0 24 3 1 #"]"
0 0 14 3 1 #" "
0 0 17 3 18 #"-- if #network = 3"
0 0 14 29 1 #"\n"
0 0 14 3 19 #"                   "
0 0 14 29 1 #"\n"
0 0 14 3 3 #"   "
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 82
(6
 #"--------------------------------Transitions-------------------------"
 #"--------------"
) 0 0 14 29 1 #"\n"
0 0 17 3 52 #"-- randomly select a follower or a leader to timeout"
0 0 14 29 1 #"\n"
0 0 23 3 10 #"transition"
0 0 24 3 1 #"["
0 0 14 3 5 #"State"
0 0 24 3 1 #"]"
0 0 14 3 9 #" timeout "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 17 3 47 #"-- no need to timeout for candidates or leaders"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 3 #"one"
0 0 14 3 17 #" n : followers | "
0 0 23 3 3 #"let"
0 0 14 3 14 #" cur_trm = trm"
0 0 24 3 1 #"["
0 0 14 3 1 #"n"
0 0 24 3 1 #"]"
0 0 14 3 2 #" |"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 3 #"let"
0 0 14 3 12 #" next_trm = "
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 23 3 3 #"add"
0 0 24 3 1 #"["
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 7 #"cur_trm"
0 0 24 3 1 #"]"
0 0 14 3 2 #", "
0 0 21 3 1 #"1"
0 0 24 3 2 #"]]"
0 0 14 3 2 #"  "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 49 #"            trm' = trm - n->cur_trm + n->next_trm"
0 0 14 29 1 #"\n"
0 0 14 3 40 #"            candidates' = candidates + n"
0 0 14 29 1 #"\n"
0 0 14 3 38 #"            followers' = followers - n"
0 0 14 29 1 #"\n"
0 0 14 3 36 #"            voteTo' = voteTo + n->n "
0 0 17 3 16 #"-- vote for self"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 26 #"        network' = network"
0 0 14 29 1 #"\n"
0 0 14 3 26 #"        reserve' = reserve"
0 0 14 29 1 #"\n"
0 0 14 3 16 #"        step' = "
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 23 3 3 #"add"
0 0 24 3 1 #"["
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 4 #"step"
0 0 24 3 1 #"]"
0 0 14 3 2 #", "
0 0 21 3 1 #"1"
0 0 24 3 2 #"]]"
0 0 14 29 1 #"\n"
0 0 14 3 26 #"        leaders' = leaders"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 45 #"-- randomly select a follower and a candidate"
0 0 14 29 1 #"\n"
0 0 17 3 49 #"-- the follower should decide if it wanna to vote"
0 0 14 29 1 #"\n"
0 0 17 3 56 #"-- candidate could also fall back if its term is smaller"
0 0 14 29 1 #"\n"
0 0 23 3 10 #"transition"
0 0 24 3 1 #"["
0 0 14 3 5 #"State"
0 0 24 3 1 #"]"
0 0 14 3 14 #" fol_comm_cand"
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 4 #"some"
0 0 14 3 18 #" fol: followers | "
0 0 23 3 4 #"some"
0 0 14 3 18 #" cand: candidates "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 4 #"cand"
0 0 24 3 2 #"]]"
0 0 14 3 3 #" < "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 3 #"fol"
0 0 24 3 2 #"]]"
0 0 14 3 2 #"  "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 17 3 45 #"-- update candidate's term to follower's term"
0 0 14 29 1 #"\n"
0 0 14 3 34 #"            trm' = trm - cand->trm"
0 0 24 3 1 #"["
0 0 14 3 4 #"cand"
0 0 24 3 1 #"]"
0 0 14 3 12 #" + cand->trm"
0 0 24 3 1 #"["
0 0 14 3 3 #"fol"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 17 3 11 #"-- fallback"
0 0 14 29 1 #"\n"
0 0 14 3 43 #"            candidates' = candidates - cand"
0 0 14 29 1 #"\n"
0 0 14 3 41 #"            followers' = followers + cand"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 17 3 21 #"-- rest stay the same"
0 0 14 29 1 #"\n"
0 0 14 3 41 #"            voteTo' = voteTo - cand->cand"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 3 1 #" "
0 0 23 3 4 #"else"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 24 3 2 #"(("
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 4 #"cand"
0 0 24 3 2 #"]]"
0 0 14 3 3 #" > "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 3 #"fol"
0 0 24 3 3 #"]])"
0 0 14 3 1 #" "
0 0 23 3 2 #"or"
0 0 14 3 1 #" "
0 0 24 3 1 #"("
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 4 #"cand"
0 0 24 3 2 #"]]"
0 0 14 3 4 #" >= "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 3 #"fol"
0 0 24 3 2 #"]]"
0 0 14 3 1 #" "
0 0 23 3 3 #"and"
0 0 14 3 1 #" "
0 0 23 3 2 #"no"
0 0 14 3 7 #" voteTo"
0 0 24 3 1 #"["
0 0 14 3 3 #"fol"
0 0 24 3 3 #"]))"
0 0 14 3 1 #" "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 3 1 #" "
0 0 17 3 20 #"-- now testcase here"
0 0 14 29 1 #"\n"
0 0 14 3 44 #"                voteTo' = voteTo + fol->cand"
0 0 14 29 1 #"\n"
0 0 14 3 37 #"                trm' = trm - fol->trm"
0 0 24 3 1 #"["
0 0 14 3 3 #"fol"
0 0 24 3 1 #"]"
0 0 14 3 11 #" + fol->trm"
0 0 24 3 1 #"["
0 0 14 3 4 #"cand"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 16 #"                "
0 0 17 3 21 #"-- rest stay the same"
0 0 14 29 1 #"\n"
0 0 14 3 38 #"                followers' = followers"
0 0 14 29 1 #"\n"
0 0 14 3 40 #"                candidates' = candidates"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 24 3 1 #"}"
0 0 14 3 1 #" "
0 0 23 3 4 #"else"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 3 1 #" "
0 0 17 3 34 #"-- in other situations, do nothing"
0 0 14 29 1 #"\n"
0 0 14 3 42 #"                    followers' = followers"
0 0 14 29 1 #"\n"
0 0 14 3 44 #"                    candidates' = candidates"
0 0 14 29 1 #"\n"
0 0 14 3 36 #"                    voteTo' = voteTo"
0 0 14 29 1 #"\n"
0 0 14 3 30 #"                    trm' = trm"
0 0 14 29 1 #"\n"
0 0 14 3 16 #"                "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"    reserve' = reserve"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"    network' = network"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"    step' = "
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 23 3 3 #"add"
0 0 24 3 1 #"["
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 4 #"step"
0 0 24 3 1 #"]"
0 0 14 3 2 #", "
0 0 21 3 1 #"1"
0 0 24 3 2 #"]]"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"    leaders' = leaders"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 45 #"-- Randomly choosing a candidate and a leader"
0 0 14 29 1 #"\n"
0 0 17 3 62
#"-- either the leader will vote for the candidate and fall back"
0 0 14 29 1 #"\n"
0 0 17 3 46 #"-- or the candidate will fall back to follower"
0 0 14 29 1 #"\n"
0 0 23 3 10 #"transition"
0 0 24 3 1 #"["
0 0 14 3 5 #"State"
0 0 24 3 1 #"]"
0 0 14 3 18 #" cand_comm_leader "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 4 #"some"
0 0 14 3 20 #" cand: candidates | "
0 0 23 3 4 #"some"
0 0 14 3 15 #" lead: leaders "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 9 #"         "
0 0 17 3 25 #"-- 1. if there's a leader"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 17 3 81
(7
 #"-- 1.1 and the leader's trm is higher, the candidate should fall bac"
 #"k to follower"
) 0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 4 #"cand"
0 0 24 3 2 #"]]"
0 0 14 3 4 #" <= "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 4 #"lead"
0 0 24 3 2 #"]]"
0 0 14 3 1 #" "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 3 1 #" "
0 0 14 29 1 #"\n"
0 0 14 3 47 #"                candidates' = candidates - cand"
0 0 14 29 1 #"\n"
0 0 14 3 45 #"                followers' = followers + cand"
0 0 14 29 1 #"\n"
0 0 14 3 34 #"                leaders' = leaders"
0 0 14 29 1 #"\n"
0 0 14 3 45 #"                voteTo' = voteTo - cand->cand"
0 0 14 29 1 #"\n"
0 0 14 3 38 #"                trm' = trm - cand->trm"
0 0 24 3 1 #"["
0 0 14 3 4 #"cand"
0 0 24 3 1 #"]"
0 0 14 3 12 #" + cand->trm"
0 0 24 3 1 #"["
0 0 14 3 4 #"lead"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 24 3 1 #"}"
0 0 14 3 1 #" "
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 17 3 103
(8
 #"-- 1.2. and the leader's trm is smaller, the leader should fall back"
 #" to follower and vote the candidate"
) 0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 23 3 4 #"else"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 3 1 #" "
0 0 14 29 1 #"\n"
0 0 14 3 40 #"                candidates' = candidates"
0 0 14 29 1 #"\n"
0 0 14 3 45 #"                followers' = followers + lead"
0 0 14 29 1 #"\n"
0 0 14 3 41 #"                leaders' = leaders - lead"
0 0 14 29 1 #"\n"
0 0 14 3 58
#"                voteTo' = voteTo + lead->cand - lead->lead"
0 0 14 29 1 #"\n"
0 0 14 3 38 #"                trm' = trm - lead->trm"
0 0 24 3 1 #"["
0 0 14 3 4 #"lead"
0 0 24 3 1 #"]"
0 0 14 3 12 #" + lead->trm"
0 0 24 3 1 #"["
0 0 14 3 4 #"cand"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 15 #"               "
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 24 3 1 #"}"
0 0 14 3 1 #" "
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 17 3 49 #"-- 2. if there's no leader, nothing should happen"
0 0 14 29 1 #"\n"
0 0 14 3 26 #"        reserve' = reserve"
0 0 14 29 1 #"\n"
0 0 14 3 26 #"        network' = network"
0 0 14 29 1 #"\n"
0 0 14 3 16 #"        step' = "
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 23 3 3 #"add"
0 0 24 3 1 #"["
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 4 #"step"
0 0 24 3 1 #"]"
0 0 14 3 2 #", "
0 0 21 3 1 #"1"
0 0 24 3 2 #"]]"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 24 3 1 #"}"
0 0 14 3 1 #" "
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 34 #"-- Randomly choosing two candidate"
0 0 14 29 1 #"\n"
0 0 17 3 29 #"-- one may vote for the other"
0 0 14 29 1 #"\n"
0 0 23 3 10 #"transition"
0 0 24 3 1 #"["
0 0 14 3 5 #"State"
0 0 24 3 1 #"]"
0 0 14 3 16 #" cand_comm_cand "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 4 #"some"
0 0 14 3 20 #" cand1: candidates |"
0 0 23 3 4 #"some"
0 0 14 3 27 #" cand2: candidates - cand1 "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 5 #"cand1"
0 0 24 3 2 #"]]"
0 0 14 3 3 #" > "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 5 #"cand2"
0 0 24 3 2 #"]]"
0 0 14 3 1 #" "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 10 #"          "
0 0 17 3 91
(9
 #"-- 1. if cand1 has a higher term, cand2 will fall back to follower a"
 #"nd should vote to cand1"
) 0 0 14 29 1 #"\n"
0 0 14 3 42 #"          candidates' = candidates - cand2"
0 0 14 29 1 #"\n"
0 0 14 3 40 #"          followers' = followers + cand2"
0 0 14 29 1 #"\n"
0 0 14 3 56 #"          voteTo' = voteTo + cand2->cand1 - cand2->cand2"
0 0 14 29 1 #"\n"
0 0 14 3 33 #"          trm' = trm - cand2->trm"
0 0 24 3 1 #"["
0 0 14 3 5 #"cand2"
0 0 24 3 1 #"]"
0 0 14 3 13 #" + cand2->trm"
0 0 24 3 1 #"["
0 0 14 3 5 #"cand1"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 5 #"cand1"
0 0 24 3 2 #"]]"
0 0 14 3 3 #" < "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 5 #"cand2"
0 0 24 3 2 #"]]"
0 0 14 3 1 #" "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 10 #"          "
0 0 17 3 91
(10
 #"-- 2. if cand2 has a higher term, cand1 will fall back to follower a"
 #"nd should vote to cand1"
) 0 0 14 29 1 #"\n"
0 0 14 3 42 #"          candidates' = candidates - cand1"
0 0 14 29 1 #"\n"
0 0 14 3 40 #"          followers' = followers + cand1"
0 0 14 29 1 #"\n"
0 0 14 3 56 #"          voteTo' = voteTo + cand1->cand2 - cand1->cand1"
0 0 14 29 1 #"\n"
0 0 14 3 33 #"          trm' = trm - cand1->trm"
0 0 24 3 1 #"["
0 0 14 3 5 #"cand1"
0 0 24 3 1 #"]"
0 0 14 3 13 #" + cand1->trm"
0 0 24 3 1 #"["
0 0 14 3 5 #"cand2"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 6 #"      "
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 5 #"cand1"
0 0 24 3 2 #"]]"
0 0 14 3 3 #" = "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 5 #"cand2"
0 0 24 3 2 #"]]"
0 0 14 3 1 #" "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 36 #"            candidates' = candidates"
0 0 14 29 1 #"\n"
0 0 14 3 34 #"            followers' = followers"
0 0 14 29 1 #"\n"
0 0 14 3 28 #"            voteTo' = voteTo"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"            trm' = trm"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"    reserve' = reserve"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"    leaders' = leaders"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"    network' = network"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"    step' = "
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 23 3 3 #"add"
0 0 24 3 1 #"["
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 4 #"step"
0 0 24 3 1 #"]"
0 0 14 3 2 #", "
0 0 21 3 1 #"1"
0 0 24 3 2 #"]]"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 23 3 10 #"transition"
0 0 24 3 1 #"["
0 0 14 3 5 #"State"
0 0 24 3 1 #"]"
0 0 14 3 15 #" become_leader "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 4 #"some"
0 0 14 3 18 #" cand: candidates|"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 17 3 85
(11
 #"-- 1. if one candidate gets the majority of votes, it wins and will "
 #"become the leader"
) 0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 17 3 39 #"-- either a candidate wins or no winner"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 1 #"#"
0 0 24 3 1 #"("
0 0 14 3 11 #"voteTo.cand"
0 0 24 3 1 #")"
0 0 14 3 4 #" >= "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 17 #"Majority.constant"
0 0 24 3 1 #"]"
0 0 14 3 1 #" "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 44 #"            candidates' =  candidates - cand"
0 0 14 29 1 #"\n"
0 0 14 3 37 #"            leaders' = leaders + cand"
0 0 14 29 1 #"\n"
0 0 14 3 57 #"            followers' = network - candidates' - leaders'"
0 0 14 29 1 #"\n"
0 0 14 3 28 #"            voteTo' = voteTo"
0 0 14 29 1 #"\n"
0 0 14 3 23 #"            trm' = trm "
0 0 17 3 79
(12
 #"-- need to rewrite this to make sure all nodes in the network have t"
 #"he same trm"
) 0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 3 1 #" "
0 0 23 3 4 #"else"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 3 5 #"     "
0 0 14 29 1 #"\n"
0 0 14 3 36 #"            candidates' = candidates"
0 0 14 29 1 #"\n"
0 0 14 3 31 #"            leaders' = leaders "
0 0 14 29 1 #"\n"
0 0 14 3 34 #"            followers' = followers"
0 0 14 29 1 #"\n"
0 0 14 3 28 #"            voteTo' = voteTo"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"            trm' = trm"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"    reserve' = reserve"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"    network' = network"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"    step' = "
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 23 3 3 #"add"
0 0 24 3 1 #"["
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 4 #"step"
0 0 24 3 1 #"]"
0 0 14 3 2 #", "
0 0 21 3 1 #"1"
0 0 24 3 2 #"]]"
0 0 14 3 8 #"        "
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 55 #"-- To simulate leader sending heatbeat to other members"
0 0 14 29 1 #"\n"
0 0 17 3 44 #"-- if the leader's term is greater or equal:"
0 0 14 29 1 #"\n"
0 0 17 3 46 #"-- reset all the attr of this member to wanted"
0 0 14 29 1 #"\n"
0 0 17 3 30 #"-- otherwise, leader fallback "
0 0 14 29 1 #"\n"
0 0 23 3 10 #"transition"
0 0 24 3 1 #"["
0 0 14 3 5 #"State"
0 0 24 3 1 #"]"
0 0 14 3 11 #" heartbeat "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 4 #"some"
0 0 14 3 15 #" n : leaders | "
0 0 23 3 4 #"some"
0 0 14 3 14 #" m: network-n "
0 0 24 3 1 #"{"
0 0 17 3 55 #"--could be more than one leader, each at different term"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 1 #"n"
0 0 24 3 2 #"]]"
0 0 14 3 4 #" >= "
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 3 #"trm"
0 0 24 3 1 #"["
0 0 14 3 1 #"m"
0 0 24 3 2 #"]]"
0 0 14 3 1 #" "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 17 3 44 #"-- reset the member's attribute term, status"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 23 3 3 #"let"
0 0 14 3 23 #" newTerm = trm - m->trm"
0 0 24 3 1 #"["
0 0 14 3 1 #"m"
0 0 24 3 1 #"]"
0 0 14 3 9 #" + m->trm"
0 0 24 3 1 #"["
0 0 14 3 1 #"n"
0 0 24 3 1 #"]"
0 0 14 3 3 #" | "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 26 #"            trm' = newTerm"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 14 29 1 #"\n"
0 0 14 3 14 #"            m "
0 0 23 3 2 #"in"
0 0 14 3 12 #" candidates "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 44 #"                candidates' = candidates - m"
0 0 14 29 1 #"\n"
0 0 14 3 42 #"                followers' = followers + m"
0 0 14 29 1 #"\n"
0 0 14 3 34 #"                leaders' = leaders"
0 0 14 29 1 #"\n"
0 0 14 3 39 #"                voteTo' = voteTo - m->m"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 14 29 1 #"\n"
0 0 14 3 14 #"            m "
0 0 23 3 2 #"in"
0 0 14 3 9 #" leaders "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 38 #"                leaders' = leaders - m"
0 0 14 29 1 #"\n"
0 0 14 3 42 #"                followers' = followers + m"
0 0 14 29 1 #"\n"
0 0 14 3 40 #"                candidates' = candidates"
0 0 14 29 1 #"\n"
0 0 14 3 39 #"                voteTo' = voteTo - m->m"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 14 29 1 #"\n"
0 0 14 3 14 #"            m "
0 0 23 3 2 #"in"
0 0 14 3 11 #" followers "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 34 #"                leaders' = leaders"
0 0 14 29 1 #"\n"
0 0 14 3 38 #"                followers' = followers"
0 0 14 29 1 #"\n"
0 0 14 3 40 #"                candidates' = candidates"
0 0 14 29 1 #"\n"
0 0 14 3 19 #"                trm"
0 0 24 3 1 #"["
0 0 14 3 1 #"m"
0 0 24 3 1 #"]"
0 0 14 3 6 #" = trm"
0 0 24 3 1 #"["
0 0 14 3 1 #"n"
0 0 24 3 1 #"]"
0 0 14 3 1 #" "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"("
0 0 14 3 16 #"voteTo' = voteTo"
0 0 24 3 1 #")"
0 0 14 3 1 #" "
0 0 23 3 4 #"else"
0 0 14 3 1 #" "
0 0 24 3 1 #"("
0 0 14 3 23 #"voteTo' = voteTo - m->m"
0 0 24 3 1 #")"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 3 1 #" "
0 0 23 3 4 #"else"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 17 3 41 #"-- leader's term is smaller, reset leader"
0 0 14 29 1 #"\n"
0 0 14 3 31 #"            trm' = trm - n->trm"
0 0 24 3 1 #"["
0 0 14 3 1 #"n"
0 0 24 3 1 #"]"
0 0 14 3 9 #" + n->trm"
0 0 24 3 1 #"["
0 0 14 3 1 #"m"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 34 #"            leaders' = leaders - n"
0 0 14 29 1 #"\n"
0 0 14 3 38 #"            followers' = followers + n"
0 0 14 29 1 #"\n"
0 0 14 3 36 #"            candidates' = candidates"
0 0 14 29 1 #"\n"
0 0 14 3 35 #"            voteTo' = voteTo - n->n"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"    reserve' = reserve"
0 0 14 29 1 #"\n"
0 0 14 3 22 #"    network' = network"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"    step' = "
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 23 3 3 #"add"
0 0 24 3 1 #"["
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 4 #"step"
0 0 24 3 1 #"]"
0 0 14 3 2 #", "
0 0 21 3 1 #"1"
0 0 24 3 2 #"]]"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 45 #"--TODO: add a livig new node into the network"
0 0 14 29 1 #"\n"
0 0 23 3 10 #"transition"
0 0 24 3 1 #"["
0 0 14 3 5 #"State"
0 0 24 3 1 #"]"
0 0 14 3 9 #" addNode "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 3 #"one"
0 0 14 3 13 #" n: reserve  "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 30 #"        network' = network + n"
0 0 14 29 1 #"\n"
0 0 14 3 30 #"        reserve' = reserve - n"
0 0 14 29 1 #"\n"
0 0 14 3 34 #"        followers' = followers + n"
0 0 14 29 1 #"\n"
0 0 14 3 32 #"        candidates' = candidates"
0 0 14 29 1 #"\n"
0 0 14 3 26 #"        leaders' = leaders"
0 0 14 29 1 #"\n"
0 0 14 3 24 #"        trm' = trm + n->"
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 21 3 1 #"0"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 24 #"        voteTo' = voteTo"
0 0 14 29 1 #"\n"
0 0 14 3 16 #"        step' = "
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 23 3 3 #"add"
0 0 24 3 1 #"["
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 4 #"step"
0 0 24 3 1 #"]"
0 0 14 3 2 #", "
0 0 21 3 1 #"1"
0 0 24 3 2 #"]]"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 70
(13
 #"--TODO: one node die, which means it no longer responds to any conta"
 #"ct"
) 0 0 14 29 1 #"\n"
0 0 17 3 27 #"-- and no timeout and etc. "
0 0 14 29 1 #"\n"
0 0 23 3 10 #"transition"
0 0 24 3 1 #"["
0 0 14 3 5 #"State"
0 0 24 3 1 #"]"
0 0 14 3 5 #" die "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 4 #"some"
0 0 14 3 12 #" n: network "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 30 #"        network' = network - n"
0 0 14 29 1 #"\n"
0 0 14 3 30 #"        reserve' = reserve + n"
0 0 14 29 1 #"\n"
0 0 14 3 29 #"        trm' = trm - n->trm.n"
0 0 14 29 1 #"\n"
0 0 14 3 24 #"        voteTo' = voteTo"
0 0 14 29 1 #"\n"
0 0 14 3 16 #"        step' = "
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 23 3 3 #"add"
0 0 24 3 1 #"["
0 0 23 3 3 #"sum"
0 0 24 3 1 #"["
0 0 14 3 4 #"step"
0 0 24 3 1 #"]"
0 0 14 3 2 #", "
0 0 21 3 1 #"1"
0 0 24 3 2 #"]]"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 14 29 1 #"\n"
0 0 14 3 10 #"        n "
0 0 23 3 2 #"in"
0 0 14 3 11 #" followers "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 36 #"          followers' = followers - n"
0 0 14 29 1 #"\n"
0 0 14 3 34 #"          candidates' = candidates"
0 0 14 29 1 #"\n"
0 0 14 3 28 #"          leaders' = leaders"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 14 29 1 #"\n"
0 0 14 3 10 #"        n "
0 0 23 3 2 #"in"
0 0 14 3 12 #" candidates "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 33 #"          followers' = followers "
0 0 14 29 1 #"\n"
0 0 14 3 38 #"          candidates' = candidates - n"
0 0 14 29 1 #"\n"
0 0 14 3 28 #"          leaders' = leaders"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 14 29 1 #"\n"
0 0 14 3 10 #"        n "
0 0 23 3 2 #"in"
0 0 14 3 9 #" leaders "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 32 #"          followers' = followers"
0 0 14 29 1 #"\n"
0 0 14 3 34 #"          candidates' = candidates"
0 0 14 29 1 #"\n"
0 0 14 3 32 #"          leaders' = leaders - n"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 3 #"   "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 6 #"      "
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 23 3 10 #"transition"
0 0 24 3 1 #"["
0 0 14 3 5 #"State"
0 0 24 3 1 #"]"
0 0 14 3 16 #" stateTransition"
0 0 24 3 1 #"["
0 0 14 3 8 #"e: Event"
0 0 24 3 1 #"]"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"    e.pre = "
0 0 23 3 4 #"this"
0 0 14 29 1 #"\n"
0 0 14 3 13 #"    e.post = "
0 0 23 3 5 #"this'"
0 0 14 29 1 #"\n"
0 0 14 3 6 #"    e "
0 0 23 3 2 #"in"
0 0 14 3 9 #" Timeout "
0 0 23 3 7 #"implies"
0 0 14 3 8 #" timeout"
0 0 24 3 1 #"["
0 0 23 3 4 #"this"
0 0 14 3 2 #", "
0 0 23 3 5 #"this'"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 6 #"    e "
0 0 23 3 2 #"in"
0 0 14 3 11 #" Cand_Cand "
0 0 23 3 7 #"implies"
0 0 14 3 15 #" cand_comm_cand"
0 0 24 3 1 #"["
0 0 23 3 4 #"this"
0 0 14 3 2 #", "
0 0 23 3 5 #"this'"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 6 #"    e "
0 0 23 3 2 #"in"
0 0 14 3 11 #" Foll_Cand "
0 0 23 3 7 #"implies"
0 0 14 3 14 #" fol_comm_cand"
0 0 24 3 1 #"["
0 0 23 3 4 #"this"
0 0 14 3 2 #", "
0 0 23 3 5 #"this'"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 6 #"    e "
0 0 23 3 2 #"in"
0 0 14 3 13 #" Cand_Leader "
0 0 23 3 7 #"implies"
0 0 14 3 17 #" cand_comm_leader"
0 0 24 3 1 #"["
0 0 23 3 4 #"this"
0 0 14 3 2 #", "
0 0 23 3 5 #"this'"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 6 #"    e "
0 0 23 3 2 #"in"
0 0 14 3 12 #" CountVotes "
0 0 23 3 7 #"implies"
0 0 14 3 14 #" become_leader"
0 0 24 3 1 #"["
0 0 23 3 4 #"this"
0 0 14 3 2 #", "
0 0 23 3 5 #"this'"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 6 #"    e "
0 0 23 3 2 #"in"
0 0 14 3 11 #" Heartbeat "
0 0 23 3 7 #"implies"
0 0 14 3 10 #" heartbeat"
0 0 24 3 1 #"["
0 0 23 3 4 #"this"
0 0 14 3 2 #", "
0 0 23 3 5 #"this'"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 23 3 10 #"transition"
0 0 24 3 1 #"["
0 0 14 3 5 #"State"
0 0 24 3 1 #"]"
0 0 14 3 20 #" electionTransition "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 1 #"#"
0 0 14 3 10 #"leaders > "
0 0 21 3 1 #"0"
0 0 14 3 1 #" "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 1 #"#"
0 0 14 3 15 #" candidates <= "
0 0 21 3 1 #"0"
0 0 14 3 1 #" "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 23 3 3 #"one"
0 0 14 3 39 #" e: Timeout+Heartbeat | stateTransition"
0 0 24 3 1 #"["
0 0 23 3 4 #"this"
0 0 14 3 2 #", "
0 0 23 3 5 #"this'"
0 0 14 3 3 #", e"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 23 3 4 #"else"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 23 3 3 #"one"
0 0 14 3 27 #" e: Event | stateTransition"
0 0 24 3 1 #"["
0 0 23 3 4 #"this"
0 0 14 3 2 #", "
0 0 23 3 5 #"this'"
0 0 14 3 3 #", e"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 24 3 1 #"}"
0 0 14 3 1 #" "
0 0 23 3 4 #"else"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 1 #"#"
0 0 14 3 13 #"candidates > "
0 0 21 3 1 #"0"
0 0 14 3 1 #" "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 23 3 3 #"one"
0 0 14 3 37 #" e: Event-Heartbeat | stateTransition"
0 0 24 3 1 #"["
0 0 23 3 4 #"this"
0 0 14 3 2 #", "
0 0 23 3 5 #"this'"
0 0 14 3 3 #", e"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 3 1 #" "
0 0 23 3 4 #"else"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 17 3 28 #"-- no leaders or candidates:"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 23 3 3 #"one"
0 0 14 3 29 #" e: Timeout | stateTransition"
0 0 24 3 1 #"["
0 0 23 3 4 #"this"
0 0 14 3 2 #", "
0 0 23 3 5 #"this'"
0 0 14 3 3 #", e"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 24 3 1 #"}"
0 0 14 3 3 #"   "
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 55 #"------------------------------Run----------------------"
0 0 14 29 1 #"\n"
0 0 17 3 3 #"/**"
0 0 17 29 1 #"\n"
0 0 17 3 5 #"state"
0 0 17 3 1 #"["
0 0 17 3 5 #"State"
0 0 17 3 1 #"]"
0 0 17 3 11 #" testState "
0 0 17 3 1 #"{"
0 0 17 29 1 #"\n"
0 0 17 3 4 #"    "
0 0 17 3 3 #"all"
0 0 17 3 19 #" n: followers | n->"
0 0 17 3 4 #"sing"
0 0 17 3 1 #"["
0 0 17 3 1 #"0"
0 0 17 3 1 #"]"
0 0 17 3 1 #" "
0 0 17 3 2 #"in"
0 0 17 3 4 #" trm"
0 0 17 29 1 #"\n"
0 0 17 3 4 #"    "
0 0 17 3 2 #"no"
0 0 17 3 7 #" voteTo"
0 0 17 29 1 #"\n"
0 0 17 3 11 #"    step = "
0 0 17 3 4 #"sing"
0 0 17 3 1 #"["
0 0 17 3 1 #"0"
0 0 17 3 1 #"]"
0 0 17 3 1 #" "
0 0 17 29 1 #"\n"
0 0 17 3 4 #"    "
0 0 17 3 2 #"no"
0 0 17 3 8 #" leaders"
0 0 17 29 1 #"\n"
0 0 17 3 4 #"    "
0 0 17 3 1 #"#"
0 0 17 3 13 #"candidates = "
0 0 17 3 1 #"1"
0 0 17 29 1 #"\n"
0 0 17 3 4 #"    "
0 0 17 3 3 #"one"
0 0 17 3 20 #" n: candidates | n->"
0 0 17 3 4 #"sing"
0 0 17 3 1 #"["
0 0 17 3 1 #"0"
0 0 17 3 1 #"]"
0 0 17 3 1 #" "
0 0 17 3 2 #"in"
0 0 17 3 4 #" trm"
0 0 17 29 1 #"\n"
0 0 17 3 36 #"    followers = network - candidates"
0 0 17 29 1 #"\n"
0 0 17 3 24 #"    Majority.constant = "
0 0 17 3 4 #"sing"
0 0 17 3 1 #"["
0 0 17 3 1 #"2"
0 0 17 3 1 #"]"
0 0 17 3 1 #" "
0 0 17 3 18 #"-- if #network = 3"
0 0 17 29 1 #"\n"
0 0 17 3 1 #"}"
0 0 17 29 1 #"\n"
0 0 17 29 1 #"\n"
0 0 17 3 5 #"state"
0 0 17 3 1 #"["
0 0 17 3 5 #"State"
0 0 17 3 1 #"]"
0 0 17 3 12 #" testState2 "
0 0 17 3 1 #"{"
0 0 17 29 1 #"\n"
0 0 17 3 4 #"    "
0 0 17 3 3 #"all"
0 0 17 3 17 #" n: network | n->"
0 0 17 3 4 #"sing"
0 0 17 3 1 #"["
0 0 17 3 1 #"0"
0 0 17 3 1 #"]"
0 0 17 3 1 #" "
0 0 17 3 2 #"in"
0 0 17 3 5 #" trm "
0 0 17 29 1 #"\n"
0 0 17 3 4 #"    "
0 0 17 3 2 #"no"
0 0 17 3 7 #" voteTo"
0 0 17 29 1 #"\n"
0 0 17 3 11 #"    step = "
0 0 17 3 4 #"sing"
0 0 17 3 1 #"["
0 0 17 3 1 #"0"
0 0 17 3 1 #"]"
0 0 17 3 1 #" "
0 0 17 29 1 #"\n"
0 0 17 3 46 #"    followers = network - candidates - leaders"
0 0 17 29 1 #"\n"
0 0 17 3 24 #"    Majority.constant = "
0 0 17 3 4 #"sing"
0 0 17 3 1 #"["
0 0 17 3 1 #"2"
0 0 17 3 1 #"]"
0 0 17 3 1 #" "
0 0 17 3 18 #"-- if #network = 3"
0 0 17 29 1 #"\n"
0 0 17 3 1 #"}"
0 0 17 29 1 #"\n"
0 0 17 3 2 #"*/"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 64
#"----------------------------------------------------------------"
0 0 14 29 1 #"\n"
0 0 23 3 5 #"state"
0 0 24 3 1 #"["
0 0 14 3 5 #"State"
0 0 24 3 1 #"]"
0 0 14 3 16 #" threeFollowers "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 3 #"all"
0 0 14 3 17 #" n: network | n->"
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 21 3 1 #"0"
0 0 24 3 1 #"]"
0 0 14 3 1 #" "
0 0 23 3 2 #"in"
0 0 14 3 4 #" trm"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 2 #"no"
0 0 14 3 7 #" voteTo"
0 0 14 29 1 #"\n"
0 0 14 3 11 #"    step = "
0 0 23 3 4 #"sing"
0 0 24 3 1 #"["
0 0 21 3 1 #"0"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 2 #"no"
0 0 14 3 8 #" leaders"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 2 #"no"
0 0 14 3 11 #" candidates"
0 0 14 29 1 #"\n"
0 0 14 3 24 #"    followers = network "
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 23 3 5 #"trace"
0 0 24 3 2 #"<|"
0 0 14 3 43 #"State, threeFollowers, electionTransition, "
0 0 23 3 1 #"_"
0 0 24 3 2 #"|>"
0 0 14 3 10 #" election "
0 0 24 3 2 #"{}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 23 3 4 #"pred"
0 0 14 3 17 #" wellFormedEvent "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 74
(14
 #"    Event = Timeout + Foll_Cand+Cand_Leader+Cand_Cand+CountVotes+Hea"
 #"rtbeat"
) 0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 3 #"all"
0 0 14 3 26 #" s: election.tran.State | "
0 0 23 3 3 #"one"
0 0 14 3 21 #" e: Event | e.pre = s"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 17 3 65
#"----------------------------Bounds-------------------------------"
0 0 14 29 1 #"\n"
0 0 23 3 4 #"inst"
0 0 14 3 8 #" bounds "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 1 #"#"
0 0 14 3 7 #"Node = "
0 0 21 3 1 #"3"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 1 #"#"
0 0 14 3 8 #"State = "
0 0 21 3 1 #"5"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 1 #"#"
0 0 14 3 8 #"Event = "
0 0 21 3 1 #"4"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 23 3 4 #"pred"
0 0 14 3 12 #" wellFormed "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 19 #"    wellFormedEvent"
0 0 14 29 1 #"\n"
0 0 14 3 18 #"    stateInvariant"
0 0 24 3 1 #"["
0 0 21 3 1 #"3"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 3 #"all"
0 0 14 3 11 #" n: Node | "
0 0 23 3 3 #"all"
0 0 14 3 12 #" s: State | "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 10 #"        n "
0 0 23 3 2 #"in"
0 0 14 3 11 #" s.network "
0 0 23 3 7 #"implies"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 23 3 3 #"one"
0 0 14 3 3 #" n."
0 0 24 3 1 #"("
0 0 14 3 5 #"s.trm"
0 0 24 3 1 #")"
0 0 14 29 1 #"\n"
0 0 14 3 12 #"            "
0 0 23 3 4 #"lone"
0 0 14 3 3 #" n."
0 0 24 3 1 #"("
0 0 14 3 8 #"s.voteTo"
0 0 24 3 1 #")"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 17 3 69
(15
 #"----------------------------Testing---------------------------------"
 #"-"
) 0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 17 3 36 #"-- Finds a leader within the bounds "
0 0 14 29 1 #"\n"
0 0 23 3 4 #"pred"
0 0 14 3 18 #" atLeastOneLeader "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 14 #"    wellFormed"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 4 #"some"
0 0 14 3 12 #" s: State | "
0 0 23 3 1 #"#"
0 0 14 3 13 #"s.leaders >= "
0 0 21 3 1 #"1"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 17 3 39 #"-- Finds two leaders of different term "
0 0 14 29 1 #"\n"
0 0 23 3 4 #"pred"
0 0 14 3 20 #" twoLeadersDiffTerm "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 14 #"    wellFormed"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 4 #"some"
0 0 14 3 12 #" s: State | "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 1 #"#"
0 0 14 3 12 #"s.leaders = "
0 0 21 3 1 #"2"
0 0 14 3 1 #" "
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 4 #"some"
0 0 14 3 17 #" n1: s.leaders | "
0 0 23 3 4 #"some"
0 0 14 3 18 #" n2: s.leaders-n1 "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 17 #"            s.trm"
0 0 24 3 1 #"["
0 0 14 3 2 #"n1"
0 0 24 3 1 #"]"
0 0 14 3 9 #" != s.trm"
0 0 24 3 1 #"["
0 0 14 3 2 #"n2"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 24 3 1 #"}"
0 0 14 3 2 #"  "
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 17 3 37 #"-- Finds two leaders of the same term"
0 0 14 29 1 #"\n"
0 0 23 3 4 #"pred"
0 0 14 3 20 #" twoLeadersSameTerm "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 14 #"    wellFormed"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 4 #"some"
0 0 14 3 12 #" s: State | "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 1 #"#"
0 0 14 3 12 #"s.leaders = "
0 0 21 3 1 #"2"
0 0 14 3 1 #" "
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 23 3 4 #"some"
0 0 14 3 17 #" n1: s.leaders | "
0 0 23 3 4 #"some"
0 0 14 3 18 #" n2: s.leaders-n1 "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 17 #"            s.trm"
0 0 24 3 1 #"["
0 0 14 3 2 #"n1"
0 0 24 3 1 #"]"
0 0 14 3 8 #" = s.trm"
0 0 24 3 1 #"["
0 0 14 3 2 #"n2"
0 0 24 3 1 #"]"
0 0 14 29 1 #"\n"
0 0 14 3 8 #"        "
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 24 3 1 #"}"
0 0 14 3 2 #"  "
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 29 1 #"\n"
0 0 14 29 1 #"\n"
0 0 23 3 5 #"check"
0 0 14 3 1 #" "
0 0 24 3 2 #"<|"
0 0 14 3 8 #"election"
0 0 24 3 2 #"|>"
0 0 14 3 1 #" "
0 0 24 3 1 #"{"
0 0 14 29 1 #"\n"
0 0 14 3 3 #"   "
0 0 17 3 1 #"-"
0 0 17 3 21 #"-not atLeastOneLeader"
0 0 14 29 1 #"\n"
0 0 14 3 4 #"    "
0 0 23 3 3 #"not"
0 0 14 3 19 #" twoLeadersDiffTerm"
0 0 14 29 1 #"\n"
0 0 14 3 3 #"   "
0 0 17 3 25 #"-- not twoLeadersSameTerm"
0 0 14 29 1 #"\n"
0 0 24 3 1 #"}"
0 0 14 3 1 #" "
0 0 23 3 3 #"for"
0 0 14 3 7 #" bounds"
0 0 14 29 1 #"\n"
0           0
